# The Makefile Makefile
MAKE=make
EMU=qemu-system-x86_64

# -- Flags --
EMU_FLAGS = -monitor tcp:localhost:5555,server,nowait

# ///////////////////////////////////////////////////////////////////////////
# general targets ////////////////////////////////////////////////////////////
clean-all:
	$(MAKE) -C ./bstrapper/legacy/loader clean
	$(MAKE) -C ./bstrapper/legacy/preloader clean
	$(MAKE) -C ./bstrapper/uefi clean
	$(MAKE) -C ./stdlib clean

# ///////////////////////////////////////////////////////////////////////////
# legacy targets ////////////////////////////////////////////////////////////
qemu-legacy:
	$(EMU) -m 256 -cpu Westmere -name "OS Development Emulator" -cdrom build/OS.iso

# ///////////////////////////////////////////////////////////////////////////
# uefi targets //////////////////////////////////////////////////////////////